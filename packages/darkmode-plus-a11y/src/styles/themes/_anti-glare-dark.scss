/** @format */

@import "../abstracts/base-palette";
@import "../abstracts/theme-utils";
@import "../abstracts/anti-glare-functions";

@mixin anti-glare-dark-theme-variables() {
	// D'abord appliquer complètement le thème dark avec toutes ses éventuelles surcharges
	@include dark-theme-variables();

	// Puis transformer toutes les variables pour réduire l'éblouissement
	@include transform-theme-for-anti-glare("dark");
}

// Application du thème anti-éblouissement sombre
[data-dmpa-theme="anti-glare-dark"] {
	@include anti-glare-dark-theme-variables;
}

// Support pour les préférences de réduction d'éblouissement
@media (prefers-reduced-transparency: reduce) and (prefers-color-scheme: dark) {
	:root:not([data-dmpa-theme]) {
		@include anti-glare-dark-theme-variables;
	}
}
